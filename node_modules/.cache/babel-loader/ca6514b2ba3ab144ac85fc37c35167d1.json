{"ast":null,"code":"var __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = function (obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues = function (a, b) {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {\n    var prop = _c[_i];\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = function (a, b) {\n  return __defProps(a, __getOwnPropDescs(b));\n}; // src/query/react/index.ts\n\n\nimport { coreModule, buildCreateApi } from \"@reduxjs/toolkit/query\"; // src/query/react/buildHooks.ts\n\nimport { createSelector } from \"@reduxjs/toolkit\";\nimport { useCallback, useEffect as useEffect2, useLayoutEffect, useMemo, useRef as useRef2, useState } from \"react\";\nimport { QueryStatus, skipToken } from \"@reduxjs/toolkit/query\";\nimport { shallowEqual as shallowEqual2 } from \"react-redux\"; // src/query/react/useShallowStableValue.ts\n\nimport { useEffect, useRef } from \"react\";\nimport { shallowEqual } from \"react-redux\";\n\nfunction useShallowStableValue(value) {\n  var cache = useRef(value);\n  useEffect(function () {\n    if (!shallowEqual(cache.current, value)) {\n      cache.current = value;\n    }\n  }, [value]);\n  return shallowEqual(cache.current, value) ? cache.current : value;\n} // src/query/react/constants.ts\n\n\nvar UNINITIALIZED_VALUE = Symbol(); // src/query/react/buildHooks.ts\n\nvar useIsomorphicLayoutEffect = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\" ? useLayoutEffect : useEffect2;\n\nvar defaultQueryStateSelector = function (x) {\n  return x;\n};\n\nvar defaultMutationStateSelector = function (x) {\n  return x;\n};\n\nvar queryStatePreSelector = function (currentState, lastResult) {\n  var _a;\n\n  var data = (_a = currentState.isSuccess ? currentState.data : lastResult == null ? void 0 : lastResult.data) != null ? _a : currentState.data;\n  var isFetching = currentState.isLoading;\n  var isLoading = !data && isFetching;\n  var isSuccess = currentState.isSuccess || isFetching && !!data;\n  return __spreadProps(__spreadValues({}, currentState), {\n    data: data,\n    isFetching: isFetching,\n    isLoading: isLoading,\n    isSuccess: isSuccess\n  });\n};\n\nvar noPendingQueryStateSelector = function (selected) {\n  if (selected.isUninitialized) {\n    return __spreadProps(__spreadValues({}, selected), {\n      isUninitialized: false,\n      isFetching: true,\n      isLoading: true,\n      status: QueryStatus.pending\n    });\n  }\n\n  return selected;\n};\n\nfunction buildHooks(_c) {\n  var api = _c.api,\n      _d = _c.moduleOptions,\n      batch = _d.batch,\n      useDispatch = _d.useDispatch,\n      useSelector = _d.useSelector,\n      useStore = _d.useStore;\n  return {\n    buildQueryHooks: buildQueryHooks,\n    buildMutationHook: buildMutationHook,\n    usePrefetch: usePrefetch\n  };\n\n  function usePrefetch(endpointName, defaultOptions) {\n    var dispatch = useDispatch();\n    var stableDefaultOptions = useShallowStableValue(defaultOptions);\n    return useCallback(function (arg, options) {\n      return dispatch(api.util.prefetch(endpointName, arg, __spreadValues(__spreadValues({}, stableDefaultOptions), options)));\n    }, [endpointName, dispatch, stableDefaultOptions]);\n  }\n\n  function buildQueryHooks(name) {\n    var useQuerySubscription = function (arg, _c) {\n      var _d = _c === void 0 ? {} : _c,\n          refetchOnReconnect = _d.refetchOnReconnect,\n          refetchOnFocus = _d.refetchOnFocus,\n          refetchOnMountOrArgChange = _d.refetchOnMountOrArgChange,\n          _e = _d.skip,\n          skip = _e === void 0 ? false : _e,\n          _f = _d.pollingInterval,\n          pollingInterval = _f === void 0 ? 0 : _f;\n\n      var initiate = api.endpoints[name].initiate;\n      var dispatch = useDispatch();\n      var stableArg = useShallowStableValue(skip ? skipToken : arg);\n      var stableSubscriptionOptions = useShallowStableValue({\n        refetchOnReconnect: refetchOnReconnect,\n        refetchOnFocus: refetchOnFocus,\n        pollingInterval: pollingInterval\n      });\n      var promiseRef = useRef2();\n      useEffect2(function () {\n        var _a;\n\n        var lastPromise = promiseRef.current;\n\n        if (stableArg === skipToken) {\n          lastPromise == null ? void 0 : lastPromise.unsubscribe();\n          promiseRef.current = void 0;\n          return;\n        }\n\n        var lastSubscriptionOptions = (_a = promiseRef.current) == null ? void 0 : _a.subscriptionOptions;\n\n        if (!lastPromise || lastPromise.arg !== stableArg) {\n          lastPromise == null ? void 0 : lastPromise.unsubscribe();\n          var promise = dispatch(initiate(stableArg, {\n            subscriptionOptions: stableSubscriptionOptions,\n            forceRefetch: refetchOnMountOrArgChange\n          }));\n          promiseRef.current = promise;\n        } else if (stableSubscriptionOptions !== lastSubscriptionOptions) {\n          lastPromise.updateSubscriptionOptions(stableSubscriptionOptions);\n        }\n      }, [dispatch, initiate, refetchOnMountOrArgChange, stableArg, stableSubscriptionOptions]);\n      useEffect2(function () {\n        return function () {\n          var _a;\n\n          (_a = promiseRef.current) == null ? void 0 : _a.unsubscribe();\n          promiseRef.current = void 0;\n        };\n      }, []);\n      return useMemo(function () {\n        return {\n          refetch: function () {\n            var _a;\n\n            return void ((_a = promiseRef.current) == null ? void 0 : _a.refetch());\n          }\n        };\n      }, []);\n    };\n\n    var useLazyQuerySubscription = function (_c) {\n      var _d = _c === void 0 ? {} : _c,\n          refetchOnReconnect = _d.refetchOnReconnect,\n          refetchOnFocus = _d.refetchOnFocus,\n          _e = _d.pollingInterval,\n          pollingInterval = _e === void 0 ? 0 : _e;\n\n      var initiate = api.endpoints[name].initiate;\n      var dispatch = useDispatch();\n\n      var _f = useState(UNINITIALIZED_VALUE),\n          arg = _f[0],\n          setArg = _f[1];\n\n      var promiseRef = useRef2();\n      var stableSubscriptionOptions = useShallowStableValue({\n        refetchOnReconnect: refetchOnReconnect,\n        refetchOnFocus: refetchOnFocus,\n        pollingInterval: pollingInterval\n      });\n      useEffect2(function () {\n        var _a, _b;\n\n        var lastSubscriptionOptions = (_a = promiseRef.current) == null ? void 0 : _a.subscriptionOptions;\n\n        if (stableSubscriptionOptions !== lastSubscriptionOptions) {\n          (_b = promiseRef.current) == null ? void 0 : _b.updateSubscriptionOptions(stableSubscriptionOptions);\n        }\n      }, [stableSubscriptionOptions]);\n      var subscriptionOptionsRef = useRef2(stableSubscriptionOptions);\n      useEffect2(function () {\n        subscriptionOptionsRef.current = stableSubscriptionOptions;\n      }, [stableSubscriptionOptions]);\n      var trigger = useCallback(function (arg2, preferCacheValue) {\n        if (preferCacheValue === void 0) {\n          preferCacheValue = false;\n        }\n\n        batch(function () {\n          var _a;\n\n          (_a = promiseRef.current) == null ? void 0 : _a.unsubscribe();\n          promiseRef.current = dispatch(initiate(arg2, {\n            subscriptionOptions: subscriptionOptionsRef.current,\n            forceRefetch: !preferCacheValue\n          }));\n          setArg(arg2);\n        });\n      }, [dispatch, initiate]);\n      useEffect2(function () {\n        return function () {\n          var _a;\n\n          (_a = promiseRef == null ? void 0 : promiseRef.current) == null ? void 0 : _a.unsubscribe();\n        };\n      }, []);\n      useEffect2(function () {\n        if (arg !== UNINITIALIZED_VALUE && !promiseRef.current) {\n          trigger(arg, true);\n        }\n      }, [arg, trigger]);\n      return useMemo(function () {\n        return [trigger, arg];\n      }, [trigger, arg]);\n    };\n\n    var useQueryState = function (arg, _c) {\n      var _d = _c === void 0 ? {} : _c,\n          _e = _d.skip,\n          skip = _e === void 0 ? false : _e,\n          _f = _d.selectFromResult,\n          selectFromResult = _f === void 0 ? defaultQueryStateSelector : _f;\n\n      var select = api.endpoints[name].select;\n      var stableArg = useShallowStableValue(skip ? skipToken : arg);\n      var lastValue = useRef2();\n      var selectDefaultResult = useMemo(function () {\n        return createSelector([select(stableArg), function (_, lastResult) {\n          return lastResult;\n        }], queryStatePreSelector);\n      }, [select, stableArg]);\n      var querySelector = useMemo(function () {\n        return createSelector([selectDefaultResult], selectFromResult);\n      }, [selectDefaultResult, selectFromResult]);\n      var currentState = useSelector(function (state) {\n        return querySelector(state, lastValue.current);\n      }, shallowEqual2);\n      var store = useStore();\n      var newLastValue = selectDefaultResult(store.getState(), lastValue.current);\n      useIsomorphicLayoutEffect(function () {\n        lastValue.current = newLastValue;\n      }, [newLastValue]);\n      return currentState;\n    };\n\n    return {\n      useQueryState: useQueryState,\n      useQuerySubscription: useQuerySubscription,\n      useLazyQuerySubscription: useLazyQuerySubscription,\n      useLazyQuery: function (options) {\n        var _c = useLazyQuerySubscription(options),\n            trigger = _c[0],\n            arg = _c[1];\n\n        var queryStateResults = useQueryState(arg, __spreadProps(__spreadValues({}, options), {\n          skip: arg === UNINITIALIZED_VALUE\n        }));\n        var info = useMemo(function () {\n          return {\n            lastArg: arg\n          };\n        }, [arg]);\n        return useMemo(function () {\n          return [trigger, queryStateResults, info];\n        }, [trigger, queryStateResults, info]);\n      },\n      useQuery: function (arg, options) {\n        var querySubscriptionResults = useQuerySubscription(arg, options);\n        var queryStateResults = useQueryState(arg, __spreadValues({\n          selectFromResult: arg === skipToken || (options == null ? void 0 : options.skip) ? void 0 : noPendingQueryStateSelector\n        }, options));\n        return useMemo(function () {\n          return __spreadValues(__spreadValues({}, queryStateResults), querySubscriptionResults);\n        }, [queryStateResults, querySubscriptionResults]);\n      }\n    };\n  }\n\n  function buildMutationHook(name) {\n    return function (_c) {\n      var _d = _c === void 0 ? {} : _c,\n          _e = _d.selectFromResult,\n          selectFromResult = _e === void 0 ? defaultMutationStateSelector : _e;\n\n      var _a;\n\n      var _f = api.endpoints[name],\n          select = _f.select,\n          initiate = _f.initiate;\n      var dispatch = useDispatch();\n\n      var _g = useState(),\n          requestId = _g[0],\n          setRequestId = _g[1];\n\n      var promiseRef = useRef2();\n      useEffect2(function () {\n        return function () {\n          var _a2;\n\n          (_a2 = promiseRef.current) == null ? void 0 : _a2.unsubscribe();\n          promiseRef.current = void 0;\n        };\n      }, []);\n      var triggerMutation = useCallback(function (arg) {\n        var promise;\n        batch(function () {\n          var _a2;\n\n          (_a2 = promiseRef == null ? void 0 : promiseRef.current) == null ? void 0 : _a2.unsubscribe();\n          promise = dispatch(initiate(arg));\n          promiseRef.current = promise;\n          setRequestId(promise.requestId);\n        });\n        return promise;\n      }, [dispatch, initiate]);\n      var mutationSelector = useMemo(function () {\n        return createSelector([select(requestId || skipToken)], function (subState) {\n          return selectFromResult(subState);\n        });\n      }, [select, requestId, selectFromResult]);\n      var currentState = useSelector(mutationSelector, shallowEqual2);\n      var originalArgs = (_a = promiseRef.current) == null ? void 0 : _a.arg.originalArgs;\n      var finalState = useMemo(function () {\n        return __spreadProps(__spreadValues({}, currentState), {\n          originalArgs: originalArgs\n        });\n      }, [currentState, originalArgs]);\n      return useMemo(function () {\n        return [triggerMutation, finalState];\n      }, [triggerMutation, finalState]);\n    };\n  }\n} // src/query/endpointDefinitions.ts\n\n\nvar DefinitionType;\n\n(function (DefinitionType2) {\n  DefinitionType2[\"query\"] = \"query\";\n  DefinitionType2[\"mutation\"] = \"mutation\";\n})(DefinitionType || (DefinitionType = {}));\n\nfunction isQueryDefinition(e) {\n  return e.type === DefinitionType.query;\n}\n\nfunction isMutationDefinition(e) {\n  return e.type === DefinitionType.mutation;\n} // src/query/utils/capitalize.ts\n\n\nfunction capitalize(str) {\n  return str.replace(str[0], str[0].toUpperCase());\n} // src/query/tsHelpers.ts\n\n\nfunction safeAssign(target) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  Object.assign.apply(Object, __spreadArray([target], args));\n} // src/query/react/module.ts\n\n\nimport { useDispatch as rrUseDispatch, useSelector as rrUseSelector, useStore as rrUseStore, batch as rrBatch } from \"react-redux\";\nvar reactHooksModuleName = /* @__PURE__ */Symbol();\n\nvar reactHooksModule = function (_c) {\n  var _d = _c === void 0 ? {} : _c,\n      _e = _d.batch,\n      batch = _e === void 0 ? rrBatch : _e,\n      _f = _d.useDispatch,\n      useDispatch = _f === void 0 ? rrUseDispatch : _f,\n      _g = _d.useSelector,\n      useSelector = _g === void 0 ? rrUseSelector : _g,\n      _h = _d.useStore,\n      useStore = _h === void 0 ? rrUseStore : _h;\n\n  return {\n    name: reactHooksModuleName,\n    init: function (api, options, context) {\n      var anyApi = api;\n\n      var _c = buildHooks({\n        api: api,\n        moduleOptions: {\n          batch: batch,\n          useDispatch: useDispatch,\n          useSelector: useSelector,\n          useStore: useStore\n        }\n      }),\n          buildQueryHooks = _c.buildQueryHooks,\n          buildMutationHook = _c.buildMutationHook,\n          usePrefetch = _c.usePrefetch;\n\n      safeAssign(anyApi, {\n        usePrefetch: usePrefetch\n      });\n      safeAssign(context, {\n        batch: batch\n      });\n      return {\n        injectEndpoint: function (endpointName, definition) {\n          if (isQueryDefinition(definition)) {\n            var _c = buildQueryHooks(endpointName),\n                useQuery = _c.useQuery,\n                useLazyQuery = _c.useLazyQuery,\n                useLazyQuerySubscription = _c.useLazyQuerySubscription,\n                useQueryState = _c.useQueryState,\n                useQuerySubscription = _c.useQuerySubscription;\n\n            safeAssign(anyApi.endpoints[endpointName], {\n              useQuery: useQuery,\n              useLazyQuery: useLazyQuery,\n              useLazyQuerySubscription: useLazyQuerySubscription,\n              useQueryState: useQueryState,\n              useQuerySubscription: useQuerySubscription\n            });\n            api[\"use\" + capitalize(endpointName) + \"Query\"] = useQuery;\n            api[\"useLazy\" + capitalize(endpointName) + \"Query\"] = useLazyQuery;\n          } else if (isMutationDefinition(definition)) {\n            var useMutation = buildMutationHook(endpointName);\n            safeAssign(anyApi.endpoints[endpointName], {\n              useMutation: useMutation\n            });\n            api[\"use\" + capitalize(endpointName) + \"Mutation\"] = useMutation;\n          }\n        }\n      };\n    }\n  };\n}; // src/query/react/index.ts\n\n\nexport * from \"@reduxjs/toolkit/query\"; // src/query/react/ApiProvider.tsx\n\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\n\nfunction ApiProvider(props) {\n  var store = React.useState(function () {\n    var _c;\n\n    return configureStore({\n      reducer: (_c = {}, _c[props.api.reducerPath] = props.api.reducer, _c),\n      middleware: function (gDM) {\n        return gDM().concat(props.api.middleware);\n      }\n    });\n  })[0];\n  setupListeners(store.dispatch, props.setupListeners);\n  return /* @__PURE__ */React.createElement(Provider, {\n    store: store,\n    context: props.context\n  }, props.children);\n} // src/query/react/index.ts\n\n\nvar createApi = /* @__PURE__ */buildCreateApi(coreModule(), reactHooksModule());\nexport { ApiProvider, createApi, reactHooksModule };","map":{"version":3,"sources":["/Users/bhuvirana/ReactJs-WorkSpace/BT-CryptoForum/node_modules/@reduxjs/toolkit/dist/query/react/rtk-query-react.esm.js"],"names":["__spreadArray","to","from","i","il","length","j","__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","_i","_c","__spreadProps","coreModule","buildCreateApi","createSelector","useCallback","useEffect","useEffect2","useLayoutEffect","useMemo","useRef","useRef2","useState","QueryStatus","skipToken","shallowEqual","shallowEqual2","useShallowStableValue","cache","current","UNINITIALIZED_VALUE","Symbol","useIsomorphicLayoutEffect","window","document","createElement","defaultQueryStateSelector","x","defaultMutationStateSelector","queryStatePreSelector","currentState","lastResult","_a","data","isSuccess","isFetching","isLoading","noPendingQueryStateSelector","selected","isUninitialized","status","pending","buildHooks","api","_d","moduleOptions","batch","useDispatch","useSelector","useStore","buildQueryHooks","buildMutationHook","usePrefetch","endpointName","defaultOptions","dispatch","stableDefaultOptions","arg","options","util","prefetch","name","useQuerySubscription","refetchOnReconnect","refetchOnFocus","refetchOnMountOrArgChange","_e","skip","_f","pollingInterval","initiate","endpoints","stableArg","stableSubscriptionOptions","promiseRef","lastPromise","unsubscribe","lastSubscriptionOptions","subscriptionOptions","promise","forceRefetch","updateSubscriptionOptions","refetch","useLazyQuerySubscription","setArg","_b","subscriptionOptionsRef","trigger","arg2","preferCacheValue","useQueryState","selectFromResult","select","lastValue","selectDefaultResult","_","querySelector","state","store","newLastValue","getState","useLazyQuery","queryStateResults","info","lastArg","useQuery","querySubscriptionResults","_g","requestId","setRequestId","_a2","triggerMutation","mutationSelector","subState","originalArgs","finalState","DefinitionType","DefinitionType2","isQueryDefinition","e","type","query","isMutationDefinition","mutation","capitalize","str","replace","toUpperCase","safeAssign","target","args","arguments","assign","apply","rrUseDispatch","rrUseSelector","rrUseStore","rrBatch","reactHooksModuleName","reactHooksModule","_h","init","context","anyApi","injectEndpoint","definition","useMutation","configureStore","React","Provider","setupListeners","ApiProvider","props","reducer","reducerPath","middleware","gDM","concat","children","createApi"],"mappings":"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","sourcesContent":["var __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = function (obj, key, value) { return key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value: value }) : obj[key] = value; };\r\nvar __spreadValues = function (a, b) {\r\n    for (var prop in b || (b = {}))\r\n        if (__hasOwnProp.call(b, prop))\r\n            __defNormalProp(a, prop, b[prop]);\r\n    if (__getOwnPropSymbols)\r\n        for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {\r\n            var prop = _c[_i];\r\n            if (__propIsEnum.call(b, prop))\r\n                __defNormalProp(a, prop, b[prop]);\r\n        }\r\n    return a;\r\n};\r\nvar __spreadProps = function (a, b) { return __defProps(a, __getOwnPropDescs(b)); };\r\n// src/query/react/index.ts\r\nimport { coreModule, buildCreateApi } from \"@reduxjs/toolkit/query\";\r\n// src/query/react/buildHooks.ts\r\nimport { createSelector } from \"@reduxjs/toolkit\";\r\nimport { useCallback, useEffect as useEffect2, useLayoutEffect, useMemo, useRef as useRef2, useState } from \"react\";\r\nimport { QueryStatus, skipToken } from \"@reduxjs/toolkit/query\";\r\nimport { shallowEqual as shallowEqual2 } from \"react-redux\";\r\n// src/query/react/useShallowStableValue.ts\r\nimport { useEffect, useRef } from \"react\";\r\nimport { shallowEqual } from \"react-redux\";\r\nfunction useShallowStableValue(value) {\r\n    var cache = useRef(value);\r\n    useEffect(function () {\r\n        if (!shallowEqual(cache.current, value)) {\r\n            cache.current = value;\r\n        }\r\n    }, [value]);\r\n    return shallowEqual(cache.current, value) ? cache.current : value;\r\n}\r\n// src/query/react/constants.ts\r\nvar UNINITIALIZED_VALUE = Symbol();\r\n// src/query/react/buildHooks.ts\r\nvar useIsomorphicLayoutEffect = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\" ? useLayoutEffect : useEffect2;\r\nvar defaultQueryStateSelector = function (x) { return x; };\r\nvar defaultMutationStateSelector = function (x) { return x; };\r\nvar queryStatePreSelector = function (currentState, lastResult) {\r\n    var _a;\r\n    var data = (_a = currentState.isSuccess ? currentState.data : lastResult == null ? void 0 : lastResult.data) != null ? _a : currentState.data;\r\n    var isFetching = currentState.isLoading;\r\n    var isLoading = !data && isFetching;\r\n    var isSuccess = currentState.isSuccess || isFetching && !!data;\r\n    return __spreadProps(__spreadValues({}, currentState), {\r\n        data: data,\r\n        isFetching: isFetching,\r\n        isLoading: isLoading,\r\n        isSuccess: isSuccess\r\n    });\r\n};\r\nvar noPendingQueryStateSelector = function (selected) {\r\n    if (selected.isUninitialized) {\r\n        return __spreadProps(__spreadValues({}, selected), {\r\n            isUninitialized: false,\r\n            isFetching: true,\r\n            isLoading: true,\r\n            status: QueryStatus.pending\r\n        });\r\n    }\r\n    return selected;\r\n};\r\nfunction buildHooks(_c) {\r\n    var api = _c.api, _d = _c.moduleOptions, batch = _d.batch, useDispatch = _d.useDispatch, useSelector = _d.useSelector, useStore = _d.useStore;\r\n    return { buildQueryHooks: buildQueryHooks, buildMutationHook: buildMutationHook, usePrefetch: usePrefetch };\r\n    function usePrefetch(endpointName, defaultOptions) {\r\n        var dispatch = useDispatch();\r\n        var stableDefaultOptions = useShallowStableValue(defaultOptions);\r\n        return useCallback(function (arg, options) { return dispatch(api.util.prefetch(endpointName, arg, __spreadValues(__spreadValues({}, stableDefaultOptions), options))); }, [endpointName, dispatch, stableDefaultOptions]);\r\n    }\r\n    function buildQueryHooks(name) {\r\n        var useQuerySubscription = function (arg, _c) {\r\n            var _d = _c === void 0 ? {} : _c, refetchOnReconnect = _d.refetchOnReconnect, refetchOnFocus = _d.refetchOnFocus, refetchOnMountOrArgChange = _d.refetchOnMountOrArgChange, _e = _d.skip, skip = _e === void 0 ? false : _e, _f = _d.pollingInterval, pollingInterval = _f === void 0 ? 0 : _f;\r\n            var initiate = api.endpoints[name].initiate;\r\n            var dispatch = useDispatch();\r\n            var stableArg = useShallowStableValue(skip ? skipToken : arg);\r\n            var stableSubscriptionOptions = useShallowStableValue({\r\n                refetchOnReconnect: refetchOnReconnect,\r\n                refetchOnFocus: refetchOnFocus,\r\n                pollingInterval: pollingInterval\r\n            });\r\n            var promiseRef = useRef2();\r\n            useEffect2(function () {\r\n                var _a;\r\n                var lastPromise = promiseRef.current;\r\n                if (stableArg === skipToken) {\r\n                    lastPromise == null ? void 0 : lastPromise.unsubscribe();\r\n                    promiseRef.current = void 0;\r\n                    return;\r\n                }\r\n                var lastSubscriptionOptions = (_a = promiseRef.current) == null ? void 0 : _a.subscriptionOptions;\r\n                if (!lastPromise || lastPromise.arg !== stableArg) {\r\n                    lastPromise == null ? void 0 : lastPromise.unsubscribe();\r\n                    var promise = dispatch(initiate(stableArg, {\r\n                        subscriptionOptions: stableSubscriptionOptions,\r\n                        forceRefetch: refetchOnMountOrArgChange\r\n                    }));\r\n                    promiseRef.current = promise;\r\n                }\r\n                else if (stableSubscriptionOptions !== lastSubscriptionOptions) {\r\n                    lastPromise.updateSubscriptionOptions(stableSubscriptionOptions);\r\n                }\r\n            }, [\r\n                dispatch,\r\n                initiate,\r\n                refetchOnMountOrArgChange,\r\n                stableArg,\r\n                stableSubscriptionOptions\r\n            ]);\r\n            useEffect2(function () {\r\n                return function () {\r\n                    var _a;\r\n                    (_a = promiseRef.current) == null ? void 0 : _a.unsubscribe();\r\n                    promiseRef.current = void 0;\r\n                };\r\n            }, []);\r\n            return useMemo(function () { return ({\r\n                refetch: function () {\r\n                    var _a;\r\n                    return void ((_a = promiseRef.current) == null ? void 0 : _a.refetch());\r\n                }\r\n            }); }, []);\r\n        };\r\n        var useLazyQuerySubscription = function (_c) {\r\n            var _d = _c === void 0 ? {} : _c, refetchOnReconnect = _d.refetchOnReconnect, refetchOnFocus = _d.refetchOnFocus, _e = _d.pollingInterval, pollingInterval = _e === void 0 ? 0 : _e;\r\n            var initiate = api.endpoints[name].initiate;\r\n            var dispatch = useDispatch();\r\n            var _f = useState(UNINITIALIZED_VALUE), arg = _f[0], setArg = _f[1];\r\n            var promiseRef = useRef2();\r\n            var stableSubscriptionOptions = useShallowStableValue({\r\n                refetchOnReconnect: refetchOnReconnect,\r\n                refetchOnFocus: refetchOnFocus,\r\n                pollingInterval: pollingInterval\r\n            });\r\n            useEffect2(function () {\r\n                var _a, _b;\r\n                var lastSubscriptionOptions = (_a = promiseRef.current) == null ? void 0 : _a.subscriptionOptions;\r\n                if (stableSubscriptionOptions !== lastSubscriptionOptions) {\r\n                    (_b = promiseRef.current) == null ? void 0 : _b.updateSubscriptionOptions(stableSubscriptionOptions);\r\n                }\r\n            }, [stableSubscriptionOptions]);\r\n            var subscriptionOptionsRef = useRef2(stableSubscriptionOptions);\r\n            useEffect2(function () {\r\n                subscriptionOptionsRef.current = stableSubscriptionOptions;\r\n            }, [stableSubscriptionOptions]);\r\n            var trigger = useCallback(function (arg2, preferCacheValue) {\r\n                if (preferCacheValue === void 0) { preferCacheValue = false; }\r\n                batch(function () {\r\n                    var _a;\r\n                    (_a = promiseRef.current) == null ? void 0 : _a.unsubscribe();\r\n                    promiseRef.current = dispatch(initiate(arg2, {\r\n                        subscriptionOptions: subscriptionOptionsRef.current,\r\n                        forceRefetch: !preferCacheValue\r\n                    }));\r\n                    setArg(arg2);\r\n                });\r\n            }, [dispatch, initiate]);\r\n            useEffect2(function () {\r\n                return function () {\r\n                    var _a;\r\n                    (_a = promiseRef == null ? void 0 : promiseRef.current) == null ? void 0 : _a.unsubscribe();\r\n                };\r\n            }, []);\r\n            useEffect2(function () {\r\n                if (arg !== UNINITIALIZED_VALUE && !promiseRef.current) {\r\n                    trigger(arg, true);\r\n                }\r\n            }, [arg, trigger]);\r\n            return useMemo(function () { return [trigger, arg]; }, [trigger, arg]);\r\n        };\r\n        var useQueryState = function (arg, _c) {\r\n            var _d = _c === void 0 ? {} : _c, _e = _d.skip, skip = _e === void 0 ? false : _e, _f = _d.selectFromResult, selectFromResult = _f === void 0 ? defaultQueryStateSelector : _f;\r\n            var select = api.endpoints[name].select;\r\n            var stableArg = useShallowStableValue(skip ? skipToken : arg);\r\n            var lastValue = useRef2();\r\n            var selectDefaultResult = useMemo(function () { return createSelector([select(stableArg), function (_, lastResult) { return lastResult; }], queryStatePreSelector); }, [select, stableArg]);\r\n            var querySelector = useMemo(function () { return createSelector([selectDefaultResult], selectFromResult); }, [selectDefaultResult, selectFromResult]);\r\n            var currentState = useSelector(function (state) { return querySelector(state, lastValue.current); }, shallowEqual2);\r\n            var store = useStore();\r\n            var newLastValue = selectDefaultResult(store.getState(), lastValue.current);\r\n            useIsomorphicLayoutEffect(function () {\r\n                lastValue.current = newLastValue;\r\n            }, [newLastValue]);\r\n            return currentState;\r\n        };\r\n        return {\r\n            useQueryState: useQueryState,\r\n            useQuerySubscription: useQuerySubscription,\r\n            useLazyQuerySubscription: useLazyQuerySubscription,\r\n            useLazyQuery: function (options) {\r\n                var _c = useLazyQuerySubscription(options), trigger = _c[0], arg = _c[1];\r\n                var queryStateResults = useQueryState(arg, __spreadProps(__spreadValues({}, options), {\r\n                    skip: arg === UNINITIALIZED_VALUE\r\n                }));\r\n                var info = useMemo(function () { return ({ lastArg: arg }); }, [arg]);\r\n                return useMemo(function () { return [trigger, queryStateResults, info]; }, [trigger, queryStateResults, info]);\r\n            },\r\n            useQuery: function (arg, options) {\r\n                var querySubscriptionResults = useQuerySubscription(arg, options);\r\n                var queryStateResults = useQueryState(arg, __spreadValues({\r\n                    selectFromResult: arg === skipToken || (options == null ? void 0 : options.skip) ? void 0 : noPendingQueryStateSelector\r\n                }, options));\r\n                return useMemo(function () { return __spreadValues(__spreadValues({}, queryStateResults), querySubscriptionResults); }, [queryStateResults, querySubscriptionResults]);\r\n            }\r\n        };\r\n    }\r\n    function buildMutationHook(name) {\r\n        return function (_c) {\r\n            var _d = _c === void 0 ? {} : _c, _e = _d.selectFromResult, selectFromResult = _e === void 0 ? defaultMutationStateSelector : _e;\r\n            var _a;\r\n            var _f = api.endpoints[name], select = _f.select, initiate = _f.initiate;\r\n            var dispatch = useDispatch();\r\n            var _g = useState(), requestId = _g[0], setRequestId = _g[1];\r\n            var promiseRef = useRef2();\r\n            useEffect2(function () {\r\n                return function () {\r\n                    var _a2;\r\n                    (_a2 = promiseRef.current) == null ? void 0 : _a2.unsubscribe();\r\n                    promiseRef.current = void 0;\r\n                };\r\n            }, []);\r\n            var triggerMutation = useCallback(function (arg) {\r\n                var promise;\r\n                batch(function () {\r\n                    var _a2;\r\n                    (_a2 = promiseRef == null ? void 0 : promiseRef.current) == null ? void 0 : _a2.unsubscribe();\r\n                    promise = dispatch(initiate(arg));\r\n                    promiseRef.current = promise;\r\n                    setRequestId(promise.requestId);\r\n                });\r\n                return promise;\r\n            }, [dispatch, initiate]);\r\n            var mutationSelector = useMemo(function () { return createSelector([select(requestId || skipToken)], function (subState) { return selectFromResult(subState); }); }, [select, requestId, selectFromResult]);\r\n            var currentState = useSelector(mutationSelector, shallowEqual2);\r\n            var originalArgs = (_a = promiseRef.current) == null ? void 0 : _a.arg.originalArgs;\r\n            var finalState = useMemo(function () { return __spreadProps(__spreadValues({}, currentState), {\r\n                originalArgs: originalArgs\r\n            }); }, [currentState, originalArgs]);\r\n            return useMemo(function () { return [triggerMutation, finalState]; }, [triggerMutation, finalState]);\r\n        };\r\n    }\r\n}\r\n// src/query/endpointDefinitions.ts\r\nvar DefinitionType;\r\n(function (DefinitionType2) {\r\n    DefinitionType2[\"query\"] = \"query\";\r\n    DefinitionType2[\"mutation\"] = \"mutation\";\r\n})(DefinitionType || (DefinitionType = {}));\r\nfunction isQueryDefinition(e) {\r\n    return e.type === DefinitionType.query;\r\n}\r\nfunction isMutationDefinition(e) {\r\n    return e.type === DefinitionType.mutation;\r\n}\r\n// src/query/utils/capitalize.ts\r\nfunction capitalize(str) {\r\n    return str.replace(str[0], str[0].toUpperCase());\r\n}\r\n// src/query/tsHelpers.ts\r\nfunction safeAssign(target) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    Object.assign.apply(Object, __spreadArray([target], args));\r\n}\r\n// src/query/react/module.ts\r\nimport { useDispatch as rrUseDispatch, useSelector as rrUseSelector, useStore as rrUseStore, batch as rrBatch } from \"react-redux\";\r\nvar reactHooksModuleName = /* @__PURE__ */ Symbol();\r\nvar reactHooksModule = function (_c) {\r\n    var _d = _c === void 0 ? {} : _c, _e = _d.batch, batch = _e === void 0 ? rrBatch : _e, _f = _d.useDispatch, useDispatch = _f === void 0 ? rrUseDispatch : _f, _g = _d.useSelector, useSelector = _g === void 0 ? rrUseSelector : _g, _h = _d.useStore, useStore = _h === void 0 ? rrUseStore : _h;\r\n    return ({\r\n        name: reactHooksModuleName,\r\n        init: function (api, options, context) {\r\n            var anyApi = api;\r\n            var _c = buildHooks({\r\n                api: api,\r\n                moduleOptions: { batch: batch, useDispatch: useDispatch, useSelector: useSelector, useStore: useStore }\r\n            }), buildQueryHooks = _c.buildQueryHooks, buildMutationHook = _c.buildMutationHook, usePrefetch = _c.usePrefetch;\r\n            safeAssign(anyApi, { usePrefetch: usePrefetch });\r\n            safeAssign(context, { batch: batch });\r\n            return {\r\n                injectEndpoint: function (endpointName, definition) {\r\n                    if (isQueryDefinition(definition)) {\r\n                        var _c = buildQueryHooks(endpointName), useQuery = _c.useQuery, useLazyQuery = _c.useLazyQuery, useLazyQuerySubscription = _c.useLazyQuerySubscription, useQueryState = _c.useQueryState, useQuerySubscription = _c.useQuerySubscription;\r\n                        safeAssign(anyApi.endpoints[endpointName], {\r\n                            useQuery: useQuery,\r\n                            useLazyQuery: useLazyQuery,\r\n                            useLazyQuerySubscription: useLazyQuerySubscription,\r\n                            useQueryState: useQueryState,\r\n                            useQuerySubscription: useQuerySubscription\r\n                        });\r\n                        api[\"use\" + capitalize(endpointName) + \"Query\"] = useQuery;\r\n                        api[\"useLazy\" + capitalize(endpointName) + \"Query\"] = useLazyQuery;\r\n                    }\r\n                    else if (isMutationDefinition(definition)) {\r\n                        var useMutation = buildMutationHook(endpointName);\r\n                        safeAssign(anyApi.endpoints[endpointName], {\r\n                            useMutation: useMutation\r\n                        });\r\n                        api[\"use\" + capitalize(endpointName) + \"Mutation\"] = useMutation;\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    });\r\n};\r\n// src/query/react/index.ts\r\nexport * from \"@reduxjs/toolkit/query\";\r\n// src/query/react/ApiProvider.tsx\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\r\nfunction ApiProvider(props) {\r\n    var store = React.useState(function () {\r\n        var _c;\r\n        return configureStore({\r\n            reducer: (_c = {},\r\n                _c[props.api.reducerPath] = props.api.reducer,\r\n                _c),\r\n            middleware: function (gDM) { return gDM().concat(props.api.middleware); }\r\n        });\r\n    })[0];\r\n    setupListeners(store.dispatch, props.setupListeners);\r\n    return /* @__PURE__ */ React.createElement(Provider, {\r\n        store: store,\r\n        context: props.context\r\n    }, props.children);\r\n}\r\n// src/query/react/index.ts\r\nvar createApi = /* @__PURE__ */ buildCreateApi(coreModule(), reactHooksModule());\r\nexport { ApiProvider, createApi, reactHooksModule };\r\n//# sourceMappingURL=module.js.map"]},"metadata":{},"sourceType":"module"}